<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  


<link rel="stylesheet" type="text/css" href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" />

<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.2"/>




  <meta name="keywords" content="Python," />





  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />


<meta name="description" content="Python Challenge是一个解题游戏网站, 每解出一道题就会跳到下一题. 目前为止一共有33关. 虽说是Python Challenge, 其实用其他语言,比如Java, C++都是可以的.
第0关提示很明显了, 换一下URL地址. 把地址中的0换成 2^38.12 ** 38
得到第二关地址http://www.pythonchallenge.com/pc/def/2748779069">
<meta property="og:type" content="article">
<meta property="og:title" content="Python Challenge (Level 0-5)">
<meta property="og:url" content="http://kwangka.github.io/2015/01/18/PC-Part1/index.html">
<meta property="og:site_name" content="KaKa's Blog">
<meta property="og:description" content="Python Challenge是一个解题游戏网站, 每解出一道题就会跳到下一题. 目前为止一共有33关. 虽说是Python Challenge, 其实用其他语言,比如Java, C++都是可以的.
第0关提示很明显了, 换一下URL地址. 把地址中的0换成 2^38.12 ** 38
得到第二关地址http://www.pythonchallenge.com/pc/def/2748779069">
<meta property="og:updated_time" content="2015-10-15T08:21:46.981Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python Challenge (Level 0-5)">
<meta name="twitter:description" content="Python Challenge是一个解题游戏网站, 每解出一道题就会跳到下一题. 目前为止一共有33关. 虽说是Python Challenge, 其实用其他语言,比如Java, C++都是可以的.
第0关提示很明显了, 换一下URL地址. 把地址中的0换成 2^38.12 ** 38
得到第二关地址http://www.pythonchallenge.com/pc/def/2748779069">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'always'
  };
</script>



  <title> Python Challenge (Level 0-5) | KaKa's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">KaKa's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">曾梦想仗剑走天涯</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Python Challenge (Level 0-5)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-01-18T11:27:25+08:00" content="2015-01-18">
              2015-01-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/01/18/PC-Part1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/18/PC-Part1/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p><a href="http://www.pythonchallenge.com/" target="_blank" rel="external">Python Challenge</a>是一个解题游戏网站, 每解出一道题就会跳到下一题. 目前为止一共有33关. 虽说是Python Challenge, 其实用其他语言,比如Java, C++都是可以的.</p>
<p><a href="http://www.pythonchallenge.com/pc/def/0.html" target="_blank" rel="external">第0关</a><br>提示很明显了, 换一下URL地址. 把地址中的0换成 2^38.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> ** <span class="number">38</span></span><br></pre></td></tr></table></figure></p>
<p>得到第二关地址<a href="http://www.pythonchallenge.com/pc/def/274877906944.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/274877906944.html</a><br><a id="more"></a><br><br><br><a href="http://www.pythonchallenge.com/pc/def/274877906944.html" target="_blank" rel="external">第1关</a><br>根据图片上的提示, 应该是要做一个映射. 再加上”think twice”这个提示, 应该可以猜出是平移映射两位. 这里用到string的translate来完成<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> string</span><br><span class="line">intab = string.ascii_lowercase</span><br><span class="line">outtab = string.ascii_lowercase[<span class="number">2</span> : ] + string.ascii_lowercase[<span class="number">0</span> : <span class="number">2</span>]</span><br><span class="line">table = string.maketrans(intab, outtab)</span><br><span class="line"><span class="string">"map"</span>.translate(table)</span><br></pre></td></tr></table></figure></p>
<p>URL上的”map” translate后得到”ocr”, 这就得到了第三关的地址 <a href="http://www.pythonchallenge.com/pc/def/ocr.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/ocr.html</a><br>这一关图片下面有一大段英文, translate后可以得到</p>
<blockquote>
<p>i hope you didnt translate it by hand. thats what computers are for. doing it in by hand is inefficient and that’s why this text is so long. using string.maketrans() is recommended. now apply on the url.</p>
</blockquote>
<p><br><br><a href="http://www.pythonchallenge.com/pc/def/ocr.html" target="_blank" rel="external">第2关</a><br>根据提示, 在网页源码里找到一大段字符串。里面写着“find rare characters in the mess bellow”, 所以要我们统计字符的个数, 找出出现次数少的字符。字符串太长, 就不贴上来了, 假定字符串存在msg里<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> set(msg):</span><br><span class="line">    <span class="keyword">print</span> c, msg.count(c)</span><br><span class="line"><span class="comment"># 得到</span></span><br><span class="line"><span class="string">'''</span><br><span class="line">1219</span><br><span class="line">! 6079</span><br><span class="line"># 6115</span><br><span class="line">% 6104</span><br><span class="line">$ 6046</span><br><span class="line">&amp; 6043</span><br><span class="line">) 6186</span><br><span class="line">( 6154</span><br><span class="line">+ 6066</span><br><span class="line">* 6034</span><br><span class="line">@ 6157</span><br><span class="line">[ 6108</span><br><span class="line">] 6152</span><br><span class="line">_ 6112</span><br><span class="line">^ 6030</span><br><span class="line">a 1</span><br><span class="line">e 1</span><br><span class="line">i 1</span><br><span class="line">l 1</span><br><span class="line">q 1</span><br><span class="line">u 1</span><br><span class="line">t 1</span><br><span class="line">y 1</span><br><span class="line">&#123; 6046</span><br><span class="line">&#125; 6105</span><br><span class="line">'''</span></span><br></pre></td></tr></table></figure></p>
<p>把只出现一次的那几个字母组合一下, 得到”equality”, 替换URL里的”ocr”得到 <a href="http://www.pythonchallenge.com/pc/def/equality.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/equality.html</a><br><br><br><a href="http://www.pythonchallenge.com/pc/def/equality.html" target="_blank" rel="external">第3关</a><br>图片信息依旧没有用， 图片下面英文提示找一个小写字母， 两边各有三个大写字母，注意”EXACTLY”。查看网页源码， 假定把一大堆字符存到msg这个变量<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>pat = re.compile(<span class="string">r'[^A-Z][A-Z]&#123;3&#125;([a-z])[A-Z]&#123;3&#125;[^A-Z]'</span>)</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>pat.findall(msg)</span><br><span class="line">[<span class="string">'l'</span>, <span class="string">'i'</span>, <span class="string">'n'</span>, <span class="string">'k'</span>, <span class="string">'e'</span>, <span class="string">'d'</span>, <span class="string">'l'</span>, <span class="string">'i'</span>, <span class="string">'s'</span>, <span class="string">'t'</span>]</span><br></pre></td></tr></table></figure></p>
<p>得到”linkedlist”, 下一关URL <a href="http://www.pythonchallenge.com/pc/def/linkedlist.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/linkedlist.html</a><br><br><br><a href="http://www.pythonchallenge.com/pc/def/linkedlist.html" target="_blank" rel="external">第4关</a><br>点进去发现html换成php， <a href="http://www.pythonchallenge.com/pc/def/linkedlist.php" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/linkedlist.php</a><br>进去是一张图片， 查看page source， 有提示</p>
<blockquote>
<p>urllib may help. DON’T TRY ALL NOTHINGS, since it will never<br>end. 400 times is more than enough.</p>
</blockquote>
<p>看来是要用urllib这个库了。回到网页，点击图片, 得到信息 <em>and the next nothing is 44827</em> 再看看此时的URL，应该是要不断跳转, 不断更新 <em>nothing=</em> 后面的数字<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"></span><br><span class="line">url_template = <span class="string">'http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=&#123;0&#125;'</span></span><br><span class="line">next_num = <span class="string">'12345'</span></span><br><span class="line">pat = re.compile(<span class="string">'the next nothing is (\d+)'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    response = urllib.urlopen(url_template.format(next_num))</span><br><span class="line">    text = response.readlines()</span><br><span class="line">    next_num = pat.findall(text[<span class="number">0</span>])[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">print</span> next_num</span><br></pre></td></tr></table></figure></p>
<p>期间会出现两次错误</p>
<blockquote>
<p>(1)<a href="http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=16044" target="_blank" rel="external">Yes. Divide by two and keep going.</a><br>(2)<a href="http://www.pythonchallenge.com/pc/def/linkedlist.php?nothing=82682" target="_blank" rel="external">There maybe misleading numbers in the text. One example is 82683. Look only for the next nothing and the next nothing is 63579</a></p>
</blockquote>
<p>按照提示修改就可以继续了。最后得到 <em>peak.html</em>, 亦即 <a href="http://www.pythonchallenge.com/pc/def/peak.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/peak.html</a></p>
<p><br><br><a href="http://www.pythonchallenge.com/pc/def/peak.html" target="_blank" rel="external">第5关</a><br>实在看不懂， 网上找了下， 原来用到 <em>pickle</em>  (peak hell sounds like Pickle -.-!)<br>查看Page Source， 把<a href="http://www.pythonchallenge.com/pc/def/banner.p" target="_blank" rel="external">banner.p</a>下载到本地，用pickle反序列化<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cPickle</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'banner.p'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> inFile:</span><br><span class="line">    data = cPickle.load(inFile)</span><br><span class="line">pprint(data)</span><br><span class="line"></span><br><span class="line"><span class="comment">#得到这一堆东西</span></span><br><span class="line"><span class="string">'''</span><br><span class="line">[(' ', 95)],</span><br><span class="line"> [(' ', 14), ('#', 5), (' ', 70), ('#', 5), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line"> [(' ', 15), ('#', 4), (' ', 71), ('#', 4), (' ', 1)],</span><br><span class="line">...</span><br><span class="line">'''</span></span><br></pre></td></tr></table></figure></p>
<p>依旧看不穿, 网上大神又有话说了， print出来<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> data:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">''</span>.join(i[<span class="number">0</span>] * i[<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> item)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span><br><span class="line">              #####                                                                      ##### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">               ####                                                                       #### </span><br><span class="line">      ###      ####   ###         ###       #####   ###    #####   ###          ###       #### </span><br><span class="line">   ###   ##    #### #######     ##  ###      #### #######   #### #######     ###  ###     #### </span><br><span class="line">  ###     ###  #####    ####   ###   ####    #####    ####  #####    ####   ###     ###   #### </span><br><span class="line"> ###           ####     ####   ###    ###    ####     ####  ####     ####  ###      ####  #### </span><br><span class="line"> ###           ####     ####          ###    ####     ####  ####     ####  ###       ###  #### </span><br><span class="line">####           ####     ####     ##   ###    ####     ####  ####     #### ####       ###  #### </span><br><span class="line">####           ####     ####   ##########    ####     ####  ####     #### ##############  #### </span><br><span class="line">####           ####     ####  ###    ####    ####     ####  ####     #### ####            #### </span><br><span class="line">####           ####     #### ####     ###    ####     ####  ####     #### ####            #### </span><br><span class="line"> ###           ####     #### ####     ###    ####     ####  ####     ####  ###            #### </span><br><span class="line">  ###      ##  ####     ####  ###    ####    ####     ####  ####     ####   ###      ##   #### </span><br><span class="line">   ###    ##   ####     ####   ###########   ####     ####  ####     ####    ###    ##    #### </span><br><span class="line">      ###     ######    #####    ##    #### ######    ###########    #####      ###      ######</span><br><span class="line">'''</span></span><br></pre></td></tr></table></figure></p>
<p>这下终于像皮克那样看穿一切了. <a href="http://www.pythonchallenge.com/pc/def/channel.html" target="_blank" rel="external">http://www.pythonchallenge.com/pc/def/channel.html</a></p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag">#Python</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/01/20/pc6/" rel="prev">
                <i class="fa fa-chevron-left"></i> Python Challenge (Level 6)
              </a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/01/17/how-to-synchronize-blog/" rel="next">
                不同电脑上同步Hexo Blog <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
              <div class="ds-thread" data-thread-key="2015/01/18/PC-Part1/"
                   data-title="Python Challenge (Level 0-5)" data-url="http://kwangka.github.io/2015/01/18/PC-Part1/">
              </div>
            
          </div>
        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://s.gravatar.com/avatar/843218f0bc532cfaad30cc86ed671e64?s=80" alt="CHAN KwangNgai" itemprop="image"/>
          <p class="site-author-name" itemprop="name">CHAN KwangNgai</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">34</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/KwangKa" target="_blank">
                  <i class="fa fa-github"></i> github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.douban.com/people/49590226/" target="_blank">
                  <i class="fa fa-douban"></i> douban
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.weibo.com/1776176465/" target="_blank">
                  <i class="fa fa-weibo"></i> weibo
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <p class="post-toc-empty">此文章未包含目录</p>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CHAN KwangNgai</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"garrick"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     

    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
